<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:c="http://java.sun.com/jsp/jstl/core">
<h:head>
    <link href="style.css" rel="stylesheet" type="text/css"/>
</h:head>
<h:body>

    <div class="row">
        <div class="column">
            <h2>Parts:</h2>
            <table>
                <tr>
                    <th>ID</th>
                    <th>Name</th>
                    <th>Type</th>
                    <th>Supplier</th>
                </tr>
                <ui:repeat value="#{parts.allParts}" var="part">
                    <tr>
                        <td>#{part.id}</td>
                        <td>#{part.name}</td>
                        <td>#{part.type}</td>
                        <td>#{part.supplier.name}</td>
                    </tr>
                </ui:repeat>
            </table>
            <br/>
            <h:form>
                <label>Name: <h:inputText value="#{parts.newPart.name}" required="true" /></label><br/>
                <label>Type: <h:inputText value="#{parts.newPart.type}" required="true"/></label><br/>
                <label>Supplier: <h:inputText value="#{parts.supplierid}" required="true"/></label><br/>
                <h:commandButton value="Add part" action="#{parts.createNewPart}">
                </h:commandButton>
            </h:form>
            <br/>
            <h2>Clients:</h2>

                <table>
                    <tr>
                        <th>ID</th>
                        <th>Name</th>
                        <th>Surname</th>
                        <th>Email</th>
                        <th>Phone</th>
                    </tr>
                    <ui:repeat value="#{clients.allClients}" var="client">
                        <tr>
                            <td>#{client.id}</td>
                            <td>#{client.name}</td>
                            <td>#{client.surname}</td>
                            <td>#{client.email}</td>
                            <td>#{client.phone}</td>
                        </tr>
                    </ui:repeat>
                </table>

            <br/>
            <h:form>
                <label>Name: <h:inputText value="#{clients.newClient.name}" required="true" /></label><br/>
                <label>Surname: <h:inputText value="#{clients.newClient.surname}" required="true"/></label><br/>
                <label>Email: <h:inputText value="#{clients.newClient.email}" required="true"/></label><br/>
                <label>Phone: <h:inputText value="#{clients.newClient.phone}" required="true"/></label><br/>
                <h:commandButton value="Add new client" action="#{clients.createNewClient}"/>
            </h:form>
            <br/>
        </div>
        <div class="column">
            <h2>Suppliers:</h2>
            <table>
                <tr>
                    <th>ID</th>
                    <th>Name</th>
                </tr>
                <ui:repeat value="#{suppliers.allSuppliers}" var="supplier">
                    <tr>
                        <td>#{supplier.id}</td>
                        <td>#{supplier.name}</td>
                    </tr>
                </ui:repeat>
            </table>
            <br/>
            <h:form>
                <h:inputText value="#{suppliers.newSupplier.name}" required="true"/>
                <h:commandButton value="Add new supplier" action="#{suppliers.createNewSupplier}"/>
            </h:form>
            <br/>
            <h2>Orders:</h2>
            <table>
                <tr>
                    <th>ID</th>
                    <th>Client name</th>
                    <th>Client surname</th>
                    <th>Part name</th>
                    <th>Order date</th>
                </tr>
                <ui:repeat value="#{orders.allOrders}" var="order">
                    <tr>
                        <td><h:link value="#{order.id}" outcome="orders?orderId=#{order.id}"/></td>
                        <td>#{order.client.name}</td>
                        <td>#{order.client.surname}</td>
                        <td>#{order.part.name}</td>
                        <td>#{order.orderPlaced}</td>
                    </tr>
                </ui:repeat>

            </table>
            <br/>
            <h:form>
                <label>Client: <h:inputText value="#{orders.clientid}" required="true"/></label><br/>
                <label>Part: <h:inputText value="#{orders.partid}" required="true"/></label><br/>
                <label>Order Placed Date: <h:inputText value="#{orders.newOrder.orderPlaced}" required="true"/></label><br/>
                <h:commandButton value="Add new order" action="#{orders.createNewOrder}"/>
            </h:form>
            <br/>
        </div>
        <div class="column">
            <h2>Part Recommendations:</h2>
            <table>
                <tr>
                    <th>Part</th>
                    <th>Client</th>
                </tr>
                <ui:repeat value="#{parts.allParts}" var="part">
                    <ui:repeat value="#{part.clients}" var="client">
                        <tr>
                            <td>#{part.name}</td>
                            <td>#{client.name}</td>
                        </tr>
                    </ui:repeat>
                </ui:repeat>
            </table>

            <br/>
            <h:form>
                <label>Part ID: <h:inputText value="#{createRecommendation.partid}" required="true" /></label><br/>
                <label>Client ID: <h:inputText value="#{createRecommendation.clientid}" required="true"/></label><br/>
                <h:commandButton value="Add new recommendation" action="#{createRecommendation.createNewRec}"/>
            </h:form>
        </div>
    </div>
    <h:link outcome="myBatis/index" value="MyBatis implementation"/>
</h:body>
</html>